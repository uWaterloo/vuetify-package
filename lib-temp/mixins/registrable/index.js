import Vue from 'vue';
import { consoleWarn } from '../../util/console';
function generateWarning(child, parent) {
    return () => consoleWarn(`The ${child} component must be used inside a ${parent}`);
}
export function inject(namespace, child, parent) {
    const defaultImpl = child && parent ? {
        register: generateWarning(child, parent),
        unregister: generateWarning(child, parent),
    } : null;
    return Vue.extend({
        name: 'registrable-inject',
        inject: {
            [namespace]: {
                default: defaultImpl,
            },
        },
    });
}
export function provide(namespace, self = false) {
    return Vue.extend({
        name: 'registrable-provide',
        provide() {
            return {
                [namespace]: self ? this : {
                    register: this.register,
                    unregister: this.unregister,
                },
            };
        },
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbWl4aW5zL3JlZ2lzdHJhYmxlL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sR0FBRyxNQUFNLEtBQUssQ0FBQTtBQUVyQixPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sb0JBQW9CLENBQUE7QUFFaEQsU0FBUyxlQUFlLENBQUUsS0FBYSxFQUFFLE1BQWM7SUFDckQsT0FBTyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxLQUFLLG9DQUFvQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO0FBQ3BGLENBQUM7QUFTRCxNQUFNLFVBQVUsTUFBTSxDQUVuQixTQUFZLEVBQUUsS0FBYyxFQUFFLE1BQWU7SUFDOUMsTUFBTSxXQUFXLEdBQUcsS0FBSyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDcEMsUUFBUSxFQUFFLGVBQWUsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDO1FBQ3hDLFVBQVUsRUFBRSxlQUFlLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQztLQUMzQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUE7SUFFUixPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDaEIsSUFBSSxFQUFFLG9CQUFvQjtRQUUxQixNQUFNLEVBQUU7WUFDTixDQUFDLFNBQVMsQ0FBQyxFQUFFO2dCQUNYLE9BQU8sRUFBRSxXQUFXO2FBQ3JCO1NBQ0Y7S0FDRixDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsTUFBTSxVQUFVLE9BQU8sQ0FBRSxTQUFpQixFQUFFLElBQUksR0FBRyxLQUFLO0lBQ3RELE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUNoQixJQUFJLEVBQUUscUJBQXFCO1FBRTNCLE9BQU87WUFDTCxPQUFPO2dCQUNMLENBQUMsU0FBUyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUN6QixRQUFRLEVBQUcsSUFBWSxDQUFDLFFBQVE7b0JBQ2hDLFVBQVUsRUFBRyxJQUFZLENBQUMsVUFBVTtpQkFDckM7YUFDRixDQUFBO1FBQ0gsQ0FBQztLQUNGLENBQUMsQ0FBQTtBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVnVlIGZyb20gJ3Z1ZSdcbmltcG9ydCB7IFZ1ZUNvbnN0cnVjdG9yIH0gZnJvbSAndnVlL3R5cGVzL3Z1ZSdcbmltcG9ydCB7IGNvbnNvbGVXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9jb25zb2xlJ1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVdhcm5pbmcgKGNoaWxkOiBzdHJpbmcsIHBhcmVudDogc3RyaW5nKSB7XG4gIHJldHVybiAoKSA9PiBjb25zb2xlV2FybihgVGhlICR7Y2hpbGR9IGNvbXBvbmVudCBtdXN0IGJlIHVzZWQgaW5zaWRlIGEgJHtwYXJlbnR9YClcbn1cblxuZXhwb3J0IHR5cGUgUmVnaXN0cmFibGU8VCBleHRlbmRzIHN0cmluZywgQyBleHRlbmRzIFZ1ZUNvbnN0cnVjdG9yIHwgbnVsbCA9IG51bGw+ID0gVnVlQ29uc3RydWN0b3I8VnVlICYge1xuICBbSyBpbiBUXTogQyBleHRlbmRzIFZ1ZUNvbnN0cnVjdG9yID8gSW5zdGFuY2VUeXBlPEM+IDoge1xuICAgIHJlZ2lzdGVyICguLi5wcm9wczogYW55W10pOiB2b2lkXG4gICAgdW5yZWdpc3RlciAoc2VsZjogYW55KTogdm9pZFxuICB9XG59PlxuXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0PFxuICBUIGV4dGVuZHMgc3RyaW5nLCBDIGV4dGVuZHMgVnVlQ29uc3RydWN0b3IgfCBudWxsID0gbnVsbFxuPiAobmFtZXNwYWNlOiBULCBjaGlsZD86IHN0cmluZywgcGFyZW50Pzogc3RyaW5nKTogUmVnaXN0cmFibGU8VCwgQz4ge1xuICBjb25zdCBkZWZhdWx0SW1wbCA9IGNoaWxkICYmIHBhcmVudCA/IHtcbiAgICByZWdpc3RlcjogZ2VuZXJhdGVXYXJuaW5nKGNoaWxkLCBwYXJlbnQpLFxuICAgIHVucmVnaXN0ZXI6IGdlbmVyYXRlV2FybmluZyhjaGlsZCwgcGFyZW50KSxcbiAgfSA6IG51bGxcblxuICByZXR1cm4gVnVlLmV4dGVuZCh7XG4gICAgbmFtZTogJ3JlZ2lzdHJhYmxlLWluamVjdCcsXG5cbiAgICBpbmplY3Q6IHtcbiAgICAgIFtuYW1lc3BhY2VdOiB7XG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRJbXBsLFxuICAgICAgfSxcbiAgICB9LFxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZSAobmFtZXNwYWNlOiBzdHJpbmcsIHNlbGYgPSBmYWxzZSkge1xuICByZXR1cm4gVnVlLmV4dGVuZCh7XG4gICAgbmFtZTogJ3JlZ2lzdHJhYmxlLXByb3ZpZGUnLFxuXG4gICAgcHJvdmlkZSAoKTogb2JqZWN0IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtuYW1lc3BhY2VdOiBzZWxmID8gdGhpcyA6IHtcbiAgICAgICAgICByZWdpc3RlcjogKHRoaXMgYXMgYW55KS5yZWdpc3RlcixcbiAgICAgICAgICB1bnJlZ2lzdGVyOiAodGhpcyBhcyBhbnkpLnVucmVnaXN0ZXIsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgfSxcbiAgfSlcbn1cbiJdfQ==