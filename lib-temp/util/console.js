/* eslint-disable no-console */
import Vuetify from '../framework';
function createMessage(message, vm, parent) {
    if (Vuetify.config.silent)
        return;
    if (parent) {
        vm = {
            _isVue: true,
            $parent: parent,
            $options: vm,
        };
    }
    if (vm) {
        // Only show each message once per instance
        vm.$_alreadyWarned = vm.$_alreadyWarned || [];
        if (vm.$_alreadyWarned.includes(message))
            return;
        vm.$_alreadyWarned.push(message);
    }
    return `[Vuetify] ${message}` + (vm ? generateComponentTrace(vm) : '');
}
export function consoleInfo(message, vm, parent) {
    const newMessage = createMessage(message, vm, parent);
    newMessage != null && console.info(newMessage);
}
export function consoleWarn(message, vm, parent) {
    const newMessage = createMessage(message, vm, parent);
    newMessage != null && console.warn(newMessage);
}
export function consoleError(message, vm, parent) {
    const newMessage = createMessage(message, vm, parent);
    newMessage != null && console.error(newMessage);
}
export function deprecate(original, replacement, vm, parent) {
    consoleWarn(`[UPGRADE] '${original}' is deprecated, use '${replacement}' instead.`, vm, parent);
}
export function breaking(original, replacement, vm, parent) {
    consoleError(`[BREAKING] '${original}' has been removed, use '${replacement}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`, vm, parent);
}
export function removed(original, vm, parent) {
    consoleWarn(`[REMOVED] '${original}' has been removed. You can safely omit it.`, vm, parent);
}
/**
 * Shamelessly stolen from vuejs/vue/blob/dev/src/core/util/debug.js
 */
const classifyRE = /(?:^|[-_])(\w)/g;
const classify = (str) => str
    .replace(classifyRE, c => c.toUpperCase())
    .replace(/[-_]/g, '');
function formatComponentName(vm, includeFile) {
    if (vm.$root === vm) {
        return '<Root>';
    }
    const options = typeof vm === 'function' && vm.cid != null
        ? vm.options
        : vm._isVue
            ? vm.$options || vm.constructor.options
            : vm || {};
    let name = options.name || options._componentTag;
    const file = options.__file;
    if (!name && file) {
        const match = file.match(/([^/\\]+)\.vue$/);
        name = match && match[1];
    }
    return ((name ? `<${classify(name)}>` : `<Anonymous>`) +
        (file && includeFile !== false ? ` at ${file}` : ''));
}
function generateComponentTrace(vm) {
    if (vm._isVue && vm.$parent) {
        const tree = [];
        let currentRecursiveSequence = 0;
        while (vm) {
            if (tree.length > 0) {
                const last = tree[tree.length - 1];
                if (last.constructor === vm.constructor) {
                    currentRecursiveSequence++;
                    vm = vm.$parent;
                    continue;
                }
                else if (currentRecursiveSequence > 0) {
                    tree[tree.length - 1] = [last, currentRecursiveSequence];
                    currentRecursiveSequence = 0;
                }
            }
            tree.push(vm);
            vm = vm.$parent;
        }
        return '\n\nfound in\n\n' + tree
            .map((vm, i) => `${i === 0 ? '---> ' : ' '.repeat(5 + i * 2)}${Array.isArray(vm)
            ? `${formatComponentName(vm[0])}... (${vm[1]} recursive calls)`
            : formatComponentName(vm)}`)
            .join('\n');
    }
    else {
        return `\n\n(found in ${formatComponentName(vm)})`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc29sZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy91dGlsL2NvbnNvbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsK0JBQStCO0FBQy9CLE9BQU8sT0FBTyxNQUFNLGNBQWMsQ0FBQTtBQUVsQyxTQUFTLGFBQWEsQ0FBRSxPQUFlLEVBQUUsRUFBUSxFQUFFLE1BQVk7SUFDN0QsSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU07UUFBRSxPQUFNO0lBRWpDLElBQUksTUFBTSxFQUFFO1FBQ1YsRUFBRSxHQUFHO1lBQ0gsTUFBTSxFQUFFLElBQUk7WUFDWixPQUFPLEVBQUUsTUFBTTtZQUNmLFFBQVEsRUFBRSxFQUFFO1NBQ2IsQ0FBQTtLQUNGO0lBRUQsSUFBSSxFQUFFLEVBQUU7UUFDTiwyQ0FBMkM7UUFDM0MsRUFBRSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUMsZUFBZSxJQUFJLEVBQUUsQ0FBQTtRQUM3QyxJQUFJLEVBQUUsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQztZQUFFLE9BQU07UUFDaEQsRUFBRSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7S0FDakM7SUFFRCxPQUFPLGFBQWEsT0FBTyxFQUFFLEdBQUcsQ0FDOUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUNyQyxDQUFBO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxXQUFXLENBQUUsT0FBZSxFQUFFLEVBQVEsRUFBRSxNQUFZO0lBQ2xFLE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBQyxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO0lBQ3JELFVBQVUsSUFBSSxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtBQUNoRCxDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBRSxPQUFl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Q0FBQyxtQkFBbUI7WUFDL0QsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLEVBQUUsQ0FDNUIsRUFBRSxDQUFDO2FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO0tBQ2Q7U0FBTTtRQUNMLE9BQU8saUJBQWlCLG1CQUFtQixDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUE7S0FDbkQ7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IFZ1ZXRpZnkgZnJvbSAnLi4vZnJhbWV3b3JrJ1xuXG5mdW5jdGlvbiBjcmVhdGVNZXNzYWdlIChtZXNzYWdlOiBzdHJpbmcsIHZtPzogYW55LCBwYXJlbnQ/OiBhbnkpOiBzdHJpbmcgfCB2b2lkIHtcbiAgaWYgKFZ1ZXRpZnkuY29uZmlnLnNpbGVudCkgcmV0dXJuXG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHZtID0ge1xuICAgICAgX2lzVnVlOiB0cnVlLFxuICAgICAgJHBhcmVudDogcGFyZW50LFxuICAgICAgJG9wdGlvbnM6IHZtLFxuICAgIH1cbiAgfVxuXG4gIGlmICh2bSkge1xuICAgIC8vIE9ubHkgc2hvdyBlYWNoIG1lc3NhZ2Ugb25jZSBwZXIgaW5zdGFuY2VcbiAgICB2bS4kX2FscmVhZHlXYXJuZWQgPSB2bS4kX2FscmVhZHlXYXJuZWQgfHwgW11cbiAgICBpZiAodm0uJF9hbHJlYWR5V2FybmVkLmluY2x1ZGVzKG1lc3NhZ2UpKSByZXR1cm5cbiAgICB2bS4kX2FscmVhZHlXYXJuZWQucHVzaChtZXNzYWdlKVxuICB9XG5cbiAgcmV0dXJuIGBbVnVldGlmeV0gJHttZXNzYWdlfWAgKyAoXG4gICAgdm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnNvbGVJbmZvIChtZXNzYWdlOiBzdHJpbmcsIHZtPzogYW55LCBwYXJlbnQ/OiBhbnkpOiB2b2lkIHtcbiAgY29uc3QgbmV3TWVzc2FnZSA9IGNyZWF0ZU1lc3NhZ2UobWVzc2FnZSwgdm0sIHBhcmVudClcbiAgbmV3TWVzc2FnZSAhPSBudWxsICYmIGNvbnNvbGUuaW5mbyhuZXdNZXNzYWdlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc29sZVdhcm4gKG1lc3NhZ2U6IHN0cmluZywgdm0/OiBhbnksIHBhcmVudD86IGFueSk6IHZvaWQge1xuICBjb25zdCBuZXdNZXNzYWdlID0gY3JlYXRlTWVzc2FnZShtZXNzYWdlLCB2bSwgcGFyZW50KVxuICBuZXdNZXNzYWdlICE9IG51bGwgJiYgY29uc29sZS53YXJuKG5ld01lc3NhZ2UpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zb2xlRXJyb3IgKG1lc3NhZ2U6IHN0cmluZywgdm0/OiBhbnksIHBhcmVudD86IGFueSk6IHZvaWQge1xuICBjb25zdCBuZXdNZXNzYWdlID0gY3JlYXRlTWVzc2FnZShtZXNzYWdlLCB2bSwgcGFyZW50KVxuICBuZXdNZXNzYWdlICE9IG51bGwgJiYgY29uc29sZS5lcnJvcihuZXdNZXNzYWdlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVwcmVjYXRlIChvcmlnaW5hbDogc3RyaW5nLCByZXBsYWNlbWVudDogc3RyaW5nLCB2bT86IGFueSwgcGFyZW50PzogYW55KSB7XG4gIGNvbnNvbGVXYXJuKGBbVVBHUkFERV0gJyR7b3JpZ2luYWx9JyBpcyBkZXByZWNhdGVkLCB1c2UgJyR7cmVwbGFjZW1lbnR9JyBpbnN0ZWFkLmAsIHZtLCBwYXJlbnQpXG59XG5leHBvcnQgZnVuY3Rpb24gYnJlYWtpbmcgKG9yaWdpbmFsOiBzdHJpbmcsIHJlcGxhY2VtZW50OiBzdHJpbmcsIHZtPzogYW55LCBwYXJlbnQ/OiBhbnkpIHtcbiAgY29uc29sZUVycm9yKGBbQlJFQUtJTkddICcke29yaWdpbmFsfScgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlICcke3JlcGxhY2VtZW50fScgaW5zdGVhZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgdXBncmFkZSBndWlkZSBodHRwczovL2dpdGh1Yi5jb20vdnVldGlmeWpzL3Z1ZXRpZnkvcmVsZWFzZXMvdGFnL3YyLjAuMCN1c2VyLWNvbnRlbnQtdXBncmFkZS1ndWlkZWAsIHZtLCBwYXJlbnQpXG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlZCAob3JpZ2luYWw6IHN0cmluZywgdm0/OiBhbnksIHBhcmVudD86IGFueSkge1xuICBjb25zb2xlV2FybihgW1JFTU9WRURdICcke29yaWdpbmFsfScgaGFzIGJlZW4gcmVtb3ZlZC4gWW91IGNhbiBzYWZlbHkgb21pdCBpdC5gLCB2bSwgcGFyZW50KVxufVxuXG4vKipcbiAqIFNoYW1lbGVzc2x5IHN0b2xlbiBmcm9tIHZ1ZWpzL3Z1ZS9ibG9iL2Rldi9zcmMvY29yZS91dGlsL2RlYnVnLmpzXG4gKi9cblxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZ1xuY29uc3QgY2xhc3NpZnkgPSAoc3RyOiBzdHJpbmcpID0+IHN0clxuICAucmVwbGFjZShjbGFzc2lmeVJFLCBjID0+IGMudG9VcHBlckNhc2UoKSlcbiAgLnJlcGxhY2UoL1stX10vZywgJycpXG5cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUgKHZtOiBhbnksIGluY2x1ZGVGaWxlPzogYm9vbGVhbik6IHN0cmluZyB7XG4gIGlmICh2bS4kcm9vdCA9PT0gdm0pIHtcbiAgICByZXR1cm4gJzxSb290PidcbiAgfVxuICBjb25zdCBvcHRpb25zID0gdHlwZW9mIHZtID09PSAnZnVuY3Rpb24nICYmIHZtLmNpZCAhPSBudWxsXG4gICAgPyB2bS5vcHRpb25zXG4gICAgOiB2bS5faXNWdWVcbiAgICAgID8gdm0uJG9wdGlvbnMgfHwgdm0uY29uc3RydWN0b3Iub3B0aW9uc1xuICAgICAgOiB2bSB8fCB7fVxuICBsZXQgbmFtZSA9IG9wdGlvbnMubmFtZSB8fCBvcHRpb25zLl9jb21wb25lbnRUYWdcbiAgY29uc3QgZmlsZSA9IG9wdGlvbnMuX19maWxlXG4gIGlmICghbmFtZSAmJiBmaWxlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBmaWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLnZ1ZSQvKVxuICAgIG5hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICAobmFtZSA/IGA8JHtjbGFzc2lmeShuYW1lKX0+YCA6IGA8QW5vbnltb3VzPmApICtcbiAgICAoZmlsZSAmJiBpbmNsdWRlRmlsZSAhPT0gZmFsc2UgPyBgIGF0ICR7ZmlsZX1gIDogJycpXG4gIClcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVDb21wb25lbnRUcmFjZSAodm06IGFueSk6IHN0cmluZyB7XG4gIGlmICh2bS5faXNWdWUgJiYgdm0uJHBhcmVudCkge1xuICAgIGNvbnN0IHRyZWU6IGFueVtdID0gW11cbiAgICBsZXQgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlID0gMFxuICAgIHdoaWxlICh2bSkge1xuICAgICAgaWYgKHRyZWUubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBsYXN0OiBhbnkgPSB0cmVlW3RyZWUubGVuZ3RoIC0gMV1cbiAgICAgICAgaWYgKGxhc3QuY29uc3RydWN0b3IgPT09IHZtLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlKytcbiAgICAgICAgICB2bSA9IHZtLiRwYXJlbnRcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA+IDApIHtcbiAgICAgICAgICB0cmVlW3RyZWUubGVuZ3RoIC0gMV0gPSBbbGFzdCwgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlXVxuICAgICAgICAgIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA9IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJlZS5wdXNoKHZtKVxuICAgICAgdm0gPSB2bS4kcGFyZW50XG4gICAgfVxuICAgIHJldHVybiAnXFxuXFxuZm91bmQgaW5cXG5cXG4nICsgdHJlZVxuICAgICAgLm1hcCgodm0sIGkpID0+IGAke1xuICAgICAgICBpID09PSAwID8gJy0tLT4gJyA6ICcgJy5yZXBlYXQoNSArIGkgKiAyKVxuICAgICAgfSR7XG4gICAgICAgIEFycmF5LmlzQXJyYXkodm0pXG4gICAgICAgICAgPyBgJHtmb3JtYXRDb21wb25lbnROYW1lKHZtWzBdKX0uLi4gKCR7dm1bMV19IHJlY3Vyc2l2ZSBjYWxscylgXG4gICAgICAgICAgOiBmb3JtYXRDb21wb25lbnROYW1lKHZtKVxuICAgICAgfWApXG4gICAgICAuam9pbignXFxuJylcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYFxcblxcbihmb3VuZCBpbiAke2Zvcm1hdENvbXBvbmVudE5hbWUodm0pfSlgXG4gIH1cbn1cbiJdfQ==