// Preset
import { preset as Preset } from '../../presets/default';
// Utilities
import { consoleWarn } from '../../util/console';
import { mergeDeep } from '../../util/helpers';
import { Service } from '../service';
export class Presets extends Service {
    constructor(parentPreset, parent) {
        super();
        // The default preset
        const defaultPreset = mergeDeep({}, Preset);
        // The user provided preset
        const { userPreset } = parent;
        // The user provided global preset
        const { preset: globalPreset = {}, ...preset } = userPreset;
        if (globalPreset.preset != null) {
            consoleWarn('Global presets do not support the **preset** option, it can be safely omitted');
        }
        parent.preset = mergeDeep(mergeDeep(defaultPreset, globalPreset), preset);
    }
}
Presets.property = 'presets';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2VydmljZXMvcHJlc2V0cy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxTQUFTO0FBQ1QsT0FBTyxFQUFFLE1BQU0sSUFBSSxNQUFNLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQTtBQUV4RCxZQUFZO0FBQ1osT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG9CQUFvQixDQUFBO0FBQ2hELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQTtBQUk5QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sWUFBWSxDQUFBO0FBTXBDLE1BQU0sT0FBTyxPQUFRLFNBQVEsT0FBTztJQUdsQyxZQUNFLFlBQXdDLEVBQ3hDLE1BQWU7UUFFZixLQUFLLEVBQUUsQ0FBQTtRQUVQLHFCQUFxQjtRQUNyQixNQUFNLGFBQWEsR0FBRyxTQUFTLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQzNDLDJCQUEyQjtRQUMzQixNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsTUFBTSxDQUFBO1FBQzdCLGtDQUFrQztRQUNsQyxNQUFNLEVBQ0osTUFBTSxFQUFFLFlBQVksR0FBRyxFQUFFLEVBQ3pCLEdBQUcsTUFBTSxFQUNWLEdBQUcsVUFBVSxDQUFBO1FBRWQsSUFBSSxZQUFZLENBQUMsTUFBTSxJQUFJLElBQUksRUFBRTtZQUMvQixXQUFXLENBQUMsK0VBQStFLENBQUMsQ0FBQTtTQUM3RjtRQUVELE1BQU0sQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUN2QixTQUFTLENBQUMsYUFBYSxFQUFFLFlBQVksQ0FBQyxFQUN0QyxNQUFNLENBQ1UsQ0FBQTtJQUNwQixDQUFDOztBQTFCTSxnQkFBUSxHQUFjLFNBQVMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIFByZXNldFxuaW1wb3J0IHsgcHJlc2V0IGFzIFByZXNldCB9IGZyb20gJy4uLy4uL3ByZXNldHMvZGVmYXVsdCdcblxuLy8gVXRpbGl0aWVzXG5pbXBvcnQgeyBjb25zb2xlV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvY29uc29sZSdcbmltcG9ydCB7IG1lcmdlRGVlcCB9IGZyb20gJy4uLy4uL3V0aWwvaGVscGVycydcblxuLy8gVHlwZXNcbmltcG9ydCBWdWV0aWZ5IGZyb20gJ3Z1ZXRpZnkvdHlwZXMnXG5pbXBvcnQgeyBTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZSdcbmltcG9ydCB7XG4gIFVzZXJWdWV0aWZ5UHJlc2V0LFxuICBWdWV0aWZ5UHJlc2V0LFxufSBmcm9tICd2dWV0aWZ5L3R5cGVzL3NlcnZpY2VzL3ByZXNldHMnXG5cbmV4cG9ydCBjbGFzcyBQcmVzZXRzIGV4dGVuZHMgU2VydmljZSB7XG4gIHN0YXRpYyBwcm9wZXJ0eTogJ3ByZXNldHMnID0gJ3ByZXNldHMnXG5cbiAgY29uc3RydWN0b3IgKFxuICAgIHBhcmVudFByZXNldDogUGFydGlhbDxVc2VyVnVldGlmeVByZXNldD4sXG4gICAgcGFyZW50OiBWdWV0aWZ5LFxuICApIHtcbiAgICBzdXBlcigpXG5cbiAgICAvLyBUaGUgZGVmYXVsdCBwcmVzZXRcbiAgICBjb25zdCBkZWZhdWx0UHJlc2V0ID0gbWVyZ2VEZWVwKHt9LCBQcmVzZXQpXG4gICAgLy8gVGhlIHVzZXIgcHJvdmlkZWQgcHJlc2V0XG4gICAgY29uc3QgeyB1c2VyUHJlc2V0IH0gPSBwYXJlbnRcbiAgICAvLyBUaGUgdXNlciBwcm92aWRlZCBnbG9iYWwgcHJlc2V0XG4gICAgY29uc3Qge1xuICAgICAgcHJlc2V0OiBnbG9iYWxQcmVzZXQgPSB7fSxcbiAgICAgIC4uLnByZXNldFxuICAgIH0gPSB1c2VyUHJlc2V0XG5cbiAgICBpZiAoZ2xvYmFsUHJlc2V0LnByZXNldCAhPSBudWxsKSB7XG4gICAgICBjb25zb2xlV2FybignR2xvYmFsIHByZXNldHMgZG8gbm90IHN1cHBvcnQgdGhlICoqcHJlc2V0Kiogb3B0aW9uLCBpdCBjYW4gYmUgc2FmZWx5IG9taXR0ZWQnKVxuICAgIH1cblxuICAgIHBhcmVudC5wcmVzZXQgPSBtZXJnZURlZXAoXG4gICAgICBtZXJnZURlZXAoZGVmYXVsdFByZXNldCwgZ2xvYmFsUHJlc2V0KSxcbiAgICAgIHByZXNldFxuICAgICkgYXMgVnVldGlmeVByZXNldFxuICB9XG59XG4iXX0=