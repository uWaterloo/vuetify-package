import pad from './pad';
function createNativeLocaleFormatter(locale, options, substrOptions = { start: 0, length: 0 }) {
    const makeIsoString = (dateString) => {
        const [year, month, date] = dateString.trim().split(' ')[0].split('-');
        return [pad(year, 4), pad(month || 1), pad(date || 1)].join('-');
    };
    try {
        const intlFormatter = new Intl.DateTimeFormat(locale || undefined, options);
        return (dateString) => intlFormatter.format(new Date(`${makeIsoString(dateString)}T00:00:00+00:00`));
    }
    catch (e) {
        return (substrOptions.start || substrOptions.length)
            ? (dateString) => makeIsoString(dateString).substr(substrOptions.start || 0, substrOptions.length)
            : undefined;
    }
}
export default createNativeLocaleFormatter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9jcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sT0FBTyxDQUFBO0FBbUJ2QixTQUFTLDJCQUEyQixDQUNsQyxNQUEwQixFQUMxQixPQUFtQyxFQUNuQyxnQkFBK0IsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUU7SUFFdEQsTUFBTSxhQUFhLEdBQUcsQ0FBQyxVQUFrQixFQUFFLEVBQUU7UUFDM0MsTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDdEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ2xFLENBQUMsQ0FBQTtJQUVELElBQUk7UUFDRixNQUFNLGFBQWEsR0FBRyxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxJQUFJLFNBQVMsRUFBRSxPQUFPLENBQUMsQ0FBQTtRQUMzRSxPQUFPLENBQUMsVUFBa0IsRUFBRSxFQUFFLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLGFBQWEsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFBO0tBQzdHO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssSUFBSSxhQUFhLENBQUMsTUFBTSxDQUFDO1lBQ2xELENBQUMsQ0FBQyxDQUFDLFVBQWtCLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssSUFBSSxDQUFDLEVBQUUsYUFBYSxDQUFDLE1BQU0sQ0FBQztZQUMxRyxDQUFDLENBQUMsU0FBUyxDQUFBO0tBQ2Q7QUFDSCxDQUFDO0FBRUQsZUFBZSwyQkFBMkIsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYWQgZnJvbSAnLi9wYWQnXG5pbXBvcnQgeyBEYXRlUGlja2VyRm9ybWF0dGVyIH0gZnJvbSAndnVldGlmeS90eXBlcydcblxuaW50ZXJmYWNlIFN1YnN0ck9wdGlvbnMge1xuICBzdGFydD86IG51bWJlclxuICBsZW5ndGg6IG51bWJlclxufVxuXG5mdW5jdGlvbiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIgKFxuICBsb2NhbDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBvcHRpb25zOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9uc1xuKTogRGF0ZVBpY2tlckZvcm1hdHRlciB8IHVuZGVmaW5lZFxuXG5mdW5jdGlvbiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIgKFxuICBsb2NhbDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBvcHRpb25zOiBJbnRsLkRhdGVUaW1lRm9ybWF0T3B0aW9ucyxcbiAgc3Vic3RyT3B0aW9uczogU3Vic3RyT3B0aW9uc1xuKTogRGF0ZVBpY2tlckZvcm1hdHRlclxuXG5mdW5jdGlvbiBjcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIgKFxuICBsb2NhbGU6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgb3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMsXG4gIHN1YnN0ck9wdGlvbnM6IFN1YnN0ck9wdGlvbnMgPSB7IHN0YXJ0OiAwLCBsZW5ndGg6IDAgfVxuKTogRGF0ZVBpY2tlckZvcm1hdHRlciB8IHVuZGVmaW5lZCB7XG4gIGNvbnN0IG1ha2VJc29TdHJpbmcgPSAoZGF0ZVN0cmluZzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXRlXSA9IGRhdGVTdHJpbmcudHJpbSgpLnNwbGl0KCcgJylbMF0uc3BsaXQoJy0nKVxuICAgIHJldHVybiBbcGFkKHllYXIsIDQpLCBwYWQobW9udGggfHwgMSksIHBhZChkYXRlIHx8IDEpXS5qb2luKCctJylcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgaW50bEZvcm1hdHRlciA9IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGxvY2FsZSB8fCB1bmRlZmluZWQsIG9wdGlvbnMpXG4gICAgcmV0dXJuIChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IGludGxGb3JtYXR0ZXIuZm9ybWF0KG5ldyBEYXRlKGAke21ha2VJc29TdHJpbmcoZGF0ZVN0cmluZyl9VDAwOjAwOjAwKzAwOjAwYCkpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gKHN1YnN0ck9wdGlvbnMuc3RhcnQgfHwgc3Vic3RyT3B0aW9ucy5sZW5ndGgpXG4gICAgICA/IChkYXRlU3RyaW5nOiBzdHJpbmcpID0+IG1ha2VJc29TdHJpbmcoZGF0ZVN0cmluZykuc3Vic3RyKHN1YnN0ck9wdGlvbnMuc3RhcnQgfHwgMCwgc3Vic3RyT3B0aW9ucy5sZW5ndGgpXG4gICAgICA6IHVuZGVmaW5lZFxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZU5hdGl2ZUxvY2FsZUZvcm1hdHRlclxuIl19